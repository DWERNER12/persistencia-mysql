@using Negocio.Models;

@{
  ViewData["Title"] = "Clientes";
}

<div class="text-center">
  <h1 class="display-4">Lista de Clientes</h1>
</div>

<hr>
<a href="/clientes/novo" class="btn btn-primary">Novo</a>
<hr>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Nome</th>
      <th scope="col">Email</th>
      <th style="width: 20px;" scope="col"></th>
      <th style="width: 20px;" scope="col"></th>
    </tr>
  </thead>
  <tbody>
    @foreach (Cliente cliente in ViewBag.clientes)
    {
      <tr>
        <th scope="row">@cliente.Id</th>
        <td>@cliente.Nome</td>
        <td>@cliente.Email</td>
        <td>
          <a href="/clientes/@cliente.Id/editar" class="btn btn-warning">Editar</a>
        </td>
        <td>
          <a href="#" onclick="excluir(@cliente.Id)" class="btn btn-danger">Deletar</a>
        </td>
      </tr>
    }
  </tbody>
</table>
<script>
  const excluir = (id) => {
    if(confirm('Confirma?'))
    {
      window.location.href = '/clientes/' + id + '/deletar';
    }
  }
</script>